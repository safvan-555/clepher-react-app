import axios from "axios";
import TimeSeriesResponse from "../models/TimeSeries";

const API_URL =
  "https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=IBM&interval=5min&apikey=RIBXT3XYLI69PC0Q";

const fetchTimes = async (): Promise<TimeSeriesResponse> => {
  try {
    const response = await axios.get(API_URL);
    return response.data;
    // const respons = {
    //   "Meta Data": {
    //     "1. Information":
    //       "Intraday (5min) open, high, low, close prices and volume",
    //     "2. Symbol": "IBM",
    //     "3. Last Refreshed": "2024-07-22 19:55:00",
    //     "4. Interval": "5min",
    //     "5. Output Size": "Compact",
    //     "6. Time Zone": "US/Eastern",
    //   },
    //   "Time Series (5min)": {
    //     "2024-07-22 19:55:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.1500",
    //       "3. low": "184.1500",
    //       "4. close": "184.1500",
    //       "5. volume": "3",
    //     },
    //     "2024-07-22 19:35:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.1500",
    //       "3. low": "184.1500",
    //       "4. close": "184.1500",
    //       "5. volume": "20",
    //     },
    //     "2024-07-22 19:20:00": {
    //       "1. open": "183.6000",
    //       "2. high": "183.6000",
    //       "3. low": "183.6000",
    //       "4. close": "183.6000",
    //       "5. volume": "9",
    //     },
    //     "2024-07-22 19:15:00": {
    //       "1. open": "184.1800",
    //       "2. high": "184.1800",
    //       "3. low": "184.1500",
    //       "4. close": "184.1500",
    //       "5. volume": "6",
    //     },
    //     "2024-07-22 19:10:00": {
    //       "1. open": "184.0900",
    //       "2. high": "184.1800",
    //       "3. low": "183.6000",
    //       "4. close": "183.6000",
    //       "5. volume": "101",
    //     },
    //     "2024-07-22 19:05:00": {
    //       "1. open": "184.1800",
    //       "2. high": "184.1800",
    //       "3. low": "183.8200",
    //       "4. close": "183.8200",
    //       "5. volume": "7",
    //     },
    //     "2024-07-22 19:00:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.1800",
    //       "3. low": "183.7000",
    //       "4. close": "183.7000",
    //       "5. volume": "433798",
    //     },
    //     "2024-07-22 18:45:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.1500",
    //       "3. low": "184.1500",
    //       "4. close": "184.1500",
    //       "5. volume": "10",
    //     },
    //     "2024-07-22 18:40:00": {
    //       "1. open": "183.8200",
    //       "2. high": "184.1400",
    //       "3. low": "183.8200",
    //       "4. close": "184.1400",
    //       "5. volume": "2",
    //     },
    //     "2024-07-22 18:35:00": {
    //       "1. open": "184.1000",
    //       "2. high": "184.1800",
    //       "3. low": "184.1000",
    //       "4. close": "184.1800",
    //       "5. volume": "200",
    //     },
    //     "2024-07-22 18:30:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.1500",
    //       "3. low": "184.0000",
    //       "4. close": "184.1500",
    //       "5. volume": "433708",
    //     },
    //     "2024-07-22 18:20:00": {
    //       "1. open": "183.5000",
    //       "2. high": "183.5000",
    //       "3. low": "183.5000",
    //       "4. close": "183.5000",
    //       "5. volume": "1",
    //     },
    //     "2024-07-22 18:10:00": {
    //       "1. open": "184.2500",
    //       "2. high": "184.2500",
    //       "3. low": "184.2500",
    //       "4. close": "184.2500",
    //       "5. volume": "1",
    //     },
    //     "2024-07-22 18:05:00": {
    //       "1. open": "184.2500",
    //       "2. high": "184.2500",
    //       "3. low": "184.0000",
    //       "4. close": "184.0100",
    //       "5. volume": "183",
    //     },
    //     "2024-07-22 18:00:00": {
    //       "1. open": "183.5000",
    //       "2. high": "183.5000",
    //       "3. low": "183.5000",
    //       "4. close": "183.5000",
    //       "5. volume": "25",
    //     },
    //     "2024-07-22 17:55:00": {
    //       "1. open": "183.9900",
    //       "2. high": "183.9900",
    //       "3. low": "183.9900",
    //       "4. close": "183.9900",
    //       "5. volume": "1",
    //     },
    //     "2024-07-22 17:25:00": {
    //       "1. open": "183.8300",
    //       "2. high": "183.8300",
    //       "3. low": "183.8300",
    //       "4. close": "183.8300",
    //       "5. volume": "3",
    //     },
    //     "2024-07-22 17:20:00": {
    //       "1. open": "183.5000",
    //       "2. high": "183.5000",
    //       "3. low": "183.5000",
    //       "4. close": "183.5000",
    //       "5. volume": "15",
    //     },
    //     "2024-07-22 17:15:00": {
    //       "1. open": "184.0000",
    //       "2. high": "184.0000",
    //       "3. low": "184.0000",
    //       "4. close": "184.0000",
    //       "5. volume": "1",
    //     },
    //     "2024-07-22 17:10:00": {
    //       "1. open": "184.0000",
    //       "2. high": "184.1500",
    //       "3. low": "184.0000",
    //       "4. close": "184.1500",
    //       "5. volume": "3431",
    //     },
    //     "2024-07-22 17:05:00": {
    //       "1. open": "183.5000",
    //       "2. high": "183.8200",
    //       "3. low": "183.5000",
    //       "4. close": "183.8200",
    //       "5. volume": "113",
    //     },
    //     "2024-07-22 17:00:00": {
    //       "1. open": "183.5000",
    //       "2. high": "183.5000",
    //       "3. low": "183.5000",
    //       "4. close": "183.5000",
    //       "5. volume": "2",
    //     },
    //     "2024-07-22 16:55:00": {
    //       "1. open": "183.8200",
    //       "2. high": "184.0100",
    //       "3. low": "183.8200",
    //       "4. close": "184.0100",
    //       "5. volume": "35",
    //     },
    //     "2024-07-22 16:40:00": {
    //       "1. open": "184.0000",
    //       "2. high": "184.0000",
    //       "3. low": "183.6180",
    //       "4. close": "183.6170",
    //       "5. volume": "84",
    //     },
    //     "2024-07-22 16:35:00": {
    //       "1. open": "184.0000",
    //       "2. high": "184.0300",
    //       "3. low": "183.9900",
    //       "4. close": "184.0000",
    //       "5. volume": "80",
    //     },
    //     "2024-07-22 16:30:00": {
    //       "1. open": "183.1000",
    //       "2. high": "183.1000",
    //       "3. low": "183.1000",
    //       "4. close": "183.1000",
    //       "5. volume": "2",
    //     },
    //     "2024-07-22 16:25:00": {
    //       "1. open": "184.2000",
    //       "2. high": "184.2000",
    //       "3. low": "184.2000",
    //       "4. close": "184.2000",
    //       "5. volume": "100",
    //     },
    //     "2024-07-22 16:20:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.1500",
    //       "3. low": "184.1500",
    //       "4. close": "184.1500",
    //       "5. volume": "6459",
    //     },
    //     "2024-07-22 16:15:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.7900",
    //       "3. low": "184.0300",
    //       "4. close": "184.0300",
    //       "5. volume": "21",
    //     },
    //     "2024-07-22 16:10:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.7900",
    //       "3. low": "184.1500",
    //       "4. close": "184.4600",
    //       "5. volume": "470043",
    //     },
    //     "2024-07-22 16:05:00": {
    //       "1. open": "184.1500",
    //       "2. high": "184.7900",
    //       "3. low": "183.7800",
    //       "4. close": "184.7900",
    //       "5. volume": "4406",
    //     },
    //     "2024-07-22 16:00:00": {
    //       "1. open": "184.1600",
    //       "2. high": "184.1900",
    //       "3. low": "183.0000",
    //       "4. close": "184.0000",
    //       "5. volume": "1006315",
    //     },
    //     "2024-07-22 15:55:00": {
    //       "1. open": "184.2200",
    //       "2. high": "184.2400",
    //       "3. low": "184.0050",
    //       "4. close": "184.1600",
    //       "5. volume": "186396",
    //     },
    //     "2024-07-22 15:50:00": {
    //       "1. open": "184.2600",
    //       "2. high": "184.4350",
    //       "3. low": "184.1950",
    //       "4. close": "184.2200",
    //       "5. volume": "59651",
    //     },
    //     "2024-07-22 15:45:00": {
    //       "1. open": "184.2100",
    //       "2. high": "184.3200",
    //       "3. low": "184.2100",
    //       "4. close": "184.2750",
    //       "5. volume": "44190",
    //     },
    //     "2024-07-22 15:40:00": {
    //       "1. open": "184.2400",
    //       "2. high": "184.2780",
    //       "3. low": "184.1500",
    //       "4. close": "184.2150",
    //       "5. volume": "28004",
    //     },
    //     "2024-07-22 15:35:00": {
    //       "1. open": "184.2400",
    //       "2. high": "184.2900",
    //       "3. low": "184.1600",
    //       "4. close": "184.2450",
    //       "5. volume": "31344",
    //     },
    //     "2024-07-22 15:30:00": {
    //       "1. open": "183.9750",
    //       "2. high": "184.2800",
    //       "3. low": "183.9750",
    //       "4. close": "184.2600",
    //       "5. volume": "22375",
    //     },
    //     "2024-07-22 15:25:00": {
    //       "1. open": "184.0300",
    //       "2. high": "184.0400",
    //       "3. low": "183.9200",
    //       "4. close": "183.9600",
    //       "5. volume": "20025",
    //     },
    //     "2024-07-22 15:20:00": {
    //       "1. open": "183.7800",
    //       "2. high": "184.0400",
    //       "3. low": "183.7800",
    //       "4. close": "184.0000",
    //       "5. volume": "16291",
    //     },
    //     "2024-07-22 15:15:00": {
    //       "1. open": "183.8000",
    //       "2. high": "183.8400",
    //       "3. low": "183.7500",
    //       "4. close": "183.7800",
    //       "5. volume": "18478",
    //     },
    //     "2024-07-22 15:10:00": {
    //       "1. open": "183.8700",
    //       "2. high": "183.9300",
    //       "3. low": "183.7950",
    //       "4. close": "183.8000",
    //       "5. volume": "40084",
    //     },
    //     "2024-07-22 15:05:00": {
    //       "1. open": "183.8100",
    //       "2. high": "183.8900",
    //       "3. low": "183.7700",
    //       "4. close": "183.8700",
    //       "5. volume": "14645",
    //     },
    //     "2024-07-22 15:00:00": {
    //       "1. open": "183.8400",
    //       "2. high": "183.8600",
    //       "3. low": "183.6900",
    //       "4. close": "183.8200",
    //       "5. volume": "23691",
    //     },
    //     "2024-07-22 14:55:00": {
    //       "1. open": "184.0200",
    //       "2. high": "184.0400",
    //       "3. low": "183.8720",
    //       "4. close": "183.8720",
    //       "5. volume": "17486",
    //     },
    //     "2024-07-22 14:50:00": {
    //       "1. open": "183.9750",
    //       "2. high": "184.0230",
    //       "3. low": "183.9000",
    //       "4. close": "184.0000",
    //       "5. volume": "10482",
    //     },
    //     "2024-07-22 14:45:00": {
    //       "1. open": "184.0190",
    //       "2. high": "184.0190",
    //       "3. low": "183.8300",
    //       "4. close": "183.9500",
    //       "5. volume": "14153",
    //     },
    //     "2024-07-22 10:30:00": {
    //       "1. open": "184.3300",
    //       "2. high": "184.5000",
    //       "3. low": "184.1400",
    //       "4. close": "184.5000",
    //       "5. volume": "21213",
    //     },
    //     "2024-07-22 10:25:00": {
    //       "1. open": "184.1410",
    //       "2. high": "184.3500",
    //       "3. low": "184.0800",
    //       "4. close": "184.3150",
    //       "5. volume": "17604",
    //     },
    //     "2024-07-22 10:20:00": {
    //       "1. open": "184.2400",
    //       "2. high": "184.2580",
    //       "3. low": "184.0690",
    //       "4. close": "184.1700",
    //       "5. volume": "23937",
    //     },
    //   },
    // };
    // return respons;
  } catch (error) {
    throw new Error("Failed to fetch data");
  }
};

export { fetchTimes };
